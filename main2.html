<!DOCTYPE html>
<html>
<head>
<script src='https://code.jquery.com/jquery-3.3.1.min.js'></script>
<script>
$( document ).ready(function() {
//هنا تتم اضافة اي قناة جديدة
var t ='';
var g=0;
var x = [
"UCrvTAKeiHkB-ZTKxVBtk48A",
"UCllKrULJ9mCII2kwTPjJBEQ"
];
//**********************************

var result;
var hbody = new Array();

function loadVidos(){
hbody = [];
document.getElementById("res").innerHTML = '';



//addchannel("UCzhalf9cnQOG6KJ6sWvgJCw");
//addchannel("UC_x5XG1OV2P6uZZ5FSM9Ttw");
//addchannel("UC6EJGOlM84KpV11u0suKJww");

//function addchannel(s) {
//x.push(s);
//}

//for (i=0; i < x.length; i++) {
t='';
loaddata(x[g]);
//}

} 

function loaddata(x) {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {

 result = JSON.parse(this.responseText);
 showres(result);
    }
  };
  xhttp.open("GET", "https://www.googleapis.com/youtube/v3/search?part=snippet&type=video&order=date&maxResults=50&pageToken=" + t + "&channelId=" + x + "&key=AIzaSyA7kmklNrAsCNZJLCIjsFhwc8mRCgB6dmg", true);
  xhttp.send();
}

function showres(result){


for(var i =0;i < result.items.length; i++){
if (result.items[i].snippet.title.indexOf('يوكاى') == -1 && result.items[i].snippet.title.indexOf('كسلان') == -1 ){
       hbody[i] += '<div style="display: inline-block;vertical-align:top;width:350px;border:1px solid lightgray;padding:3px;margin:5px"><a href="player.html?id=' + result.items[i].id.videoId + '">' + 
	  '<div><img src="' + result.items[i].snippet.thumbnails.medium.url + '" /></div>' +
	  '<div style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;max-width: 75ch;">' + result.items[i].snippet.title + '</div>' +
	  '</a>' + 
	  '<div style="font-size:small;color:gray"><div>' + result.items[i].snippet.channelTitle + '</div><div>' + result.items[i].snippet.publishedAt.substring(0, 10) + '     </div></div>' +
	  '</div>';
	  }
      }
	  
	  if (typeof result.nextPageToken === "undefined") {
	  t='';
	  g=g+1;
	  loaddata(x[g]);
	  }else{
	  
	  t = result.nextPageToken;
	  loaddata(x[g]);
	  }
document.getElementById("res").innerHTML = hbody;
		var hdata = document.getElementById("res").innerHTML;
document.getElementById("res").innerHTML = hdata.replace(new RegExp(',undefined', 'g'), '').replace(new RegExp('undefined', 'g'), '');
}


loadVidos();

});

</script>
<style>
a:link {
    text-decoration: none;
}
</style>

</head>
<body>
<div style='text-align:center'>
<div id='res' style='padding:10px'></div>
</div>
</body>
</html>